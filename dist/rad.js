!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rad=e():t.rad=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);let r={0:["C"],1:["C#","Db"],2:["D"],3:["D#","Bb"],4:["E"],5:["F"],6:["F#","Gb"],7:["G"],8:["G#","Ab"],9:["A"],10:["A#","Bb"],11:["B"]},o={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},u={2:2,3:4,4:5,5:7,6:9,7:11,8:12,9:14,10:16,11:17,12:19,13:21,14:23,15:24},f=new Map([["m7",[3,7,10]],["m9",[3,7,10,14]],["m11",[3,7,10,14,17]],["M7",[4,7,11]],["M9",[4,7,10,14]],["M11",[4,7,10,14,17]],["aug",[4,8]],["dim",[3,6]],["sus2",[2,7]],["sus4",[5,7]],["7",[3,7,11]],["9",[3,7,11,14]],["11",[3,7,11,14,17]],["m",[3,7]],["",[4,7]]]),i={major:[2,2,1,2,2,2,1],minor:[2,1,2,2,1,2,2]};function c(t,e,n){if(n){let r=t[0],u=o[t[1]],f=o[e];if(u=f)return;u>f?t.splice(0,1,e+n):t.splice(0,1,e+(n-1)),t.push(a(r)+(Number(r.match(/\d/)[0])+1))}else t.unshift(e)}function l(t,e){let n,r=[t];for(let o of e)n=t+o,r.push(n);return r}function p(t,e,n){let o,u,f,i=[],c=y(n);for(let n of t){for(o=e;n>=12;)n-=12,o++;f=(u=r[n])[c]?u[c]:u[0],i.push(f+o)}return i}function d(t,e){let n,o,u=[],f=y(e);for(let e of t){for(;e>=12;)e-=12;o=(n=r[e])[f]?n[f]:n[0],u.push(o)}return u}function a(t){return t.match(/[A-G](#|b)?/)[0]}function s(t){let e=null;for(let[n]of f){let r=new RegExp(`^[A-G](#|b)?(${n}\\d{0,2})`);if(e=t.match(r))return e[2]}}function b(t){let e,n=[],r=/add(\d{1,2})/g;for(;e=r.exec(t);)n.push(e[1]);return n}function h(t){let e,n=[],r=/omit(\d{1,2})/g;for(;e=r.exec(t);)n.push(e[1]);return n}function m(t){let e=t.match(/\/([A-G](#|b)?)/);if(e)return e[1]}function y(t){return"#"==t?0:1}function g(t){let e=[];for(let n=0;n<t.length;n++)n?e.push(e[n-1]+t[n]):e.push(t[n]);return e}function j({root:t,type:e,add:n,omit:r,on:i},a,s="#"){let b=[],h=function(t){let e=f.get(t);if(!e)throw`can't find a chord type matched ${t}`;return e}(e),m=o[t];n.map(t=>{h.push(u[t])}),h.sort((t,e)=>t-e);for(let t=0;t<r.length;t++)for(let e=0;e<h.length;e++)r[t],h[e],h.splice(t,1);let y=l(m,h);return b=a?p(y,a,s):d(y,s),i&&c(b,i,a),b}function x(t,e,n){return"[object Object]"===Object.prototype.toString.call(t)?j(t,e,n):j({root:a(r=t),type:s(r),add:b(r),omit:h(r),on:m(r)},e,n);var r}function v(t,e,n){return function({root:t,type:e},n,r="#"){let u=[],f=[],c=l(o[t],g(i[e]));f=f.concat(c);for(let t=1;t<5;t++)f.push(c[t]+12);let a=n?p(f,n,r):d(f,n);for(let t=0;t<c.length;t++)u.push([a[t],a[t+2],a[t+4]]);return u}(t,e,n)}n.d(e,"chord",(function(){return x})),n.d(e,"scaleChords",(function(){return v}))}])}));
//# sourceMappingURL=rad.js.map